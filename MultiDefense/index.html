<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <meta name="theme-color" content="#0b0f1a" />
  <title>Multiplication Defense</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="app" class="app" aria-live="polite">

    <!-- Start Screen -->
    <section id="start" class="screen screen--active" role="dialog" aria-modal="true" aria-labelledby="title">
      <div class="screen__panel">
        <h1 id="title" class="title">Multiplication Defense</h1>
        <p class="subtitle">EkranÄ±n saÄŸÄ±ndan gelen Ã§arpma canavarlarÄ±nÄ± durdur!</p>
        <div class="start-actions">
          <button id="btnPlay" class="btn btn--primary">Oyna</button>
          <button id="btnHow" class="btn">NasÄ±l OynanÄ±r</button>
          <button id="btnMuteStart" class="btn" aria-pressed="false">ğŸ”Š Ses: AÃ§Ä±k</button>
          <a href="../index.html" class="btn">ğŸ  Ana Sayfa</a>
        </div>
        <details id="howto" class="howto">
          <summary>HÄ±zlÄ± rehber</summary>
          <ul>
            <li>DÃ¶rt bÃ¼yÃ¼k cevaptan doÄŸru olanÄ± dokunarak seÃ§.</li>
            <li>SeÃ§tiÄŸin sayÄ±, ekrandaki en tehlikeli (sola en yakÄ±n) eÅŸleÅŸen dÃ¼ÅŸmanÄ± yok eder.</li>
            <li>YanlÄ±ÅŸ cevapta veya dÃ¼ÅŸman kaleye ulaÅŸÄ±rsa 1 can kaybedersin.</li>
            <li>3 doÄŸru Ã¼st Ã¼ste = 5 sn Turbo AteÅŸ (x2 puan, hÄ±zlÄ± efekt).</li>
            <li>Dalgalar ilerledikÃ§e hÄ±z/artÄ±ÅŸ ve Ã§arpÄ±m aralÄ±klarÄ± bÃ¼yÃ¼r.</li>
          </ul>
        </details>
      </div>
    </section>

    <!-- Game Area -->
    <main id="game" class="game" aria-label="Oyun AlanÄ±" hidden>
      <!-- HUD (fixed height) -->
      <header class="hud" aria-label="Durum Ã‡ubuÄŸu">
        <div class="hud__row">
          <div class="hearts" id="hearts" title="Canlar" aria-label="Canlar">â¤ï¸â¤ï¸â¤ï¸</div>
          <div class="stats">
            <span id="wave" title="Dalga">ğŸŒŠ 1</span>
            <span id="score" title="Skor">â­ 0</span>
            <span id="best" title="En Ä°yi">ğŸ† 0</span>
            <span id="target" title="Hedef">ğŸ¯ 0</span>
          </div>
          <div class="controls">
            <button id="btnPause" class="icon-btn" aria-pressed="false" title="Duraklat">â¸ï¸</button>
            <button id="btnMute" class="icon-btn" aria-pressed="false" title="Ses AÃ§/Kapat">ğŸ”Š</button>
            <a href="../index.html" class="icon-btn" title="Ana Sayfa">ğŸ </a>
          </div>
          <!-- Turbo badge absolutely positioned to avoid layout shifts -->
          <span id="turboBadge" class="badge" title="Turbo AteÅŸ" aria-label="Turbo" aria-hidden="true">âš¡</span>
        </div>
      </header>

      <!-- Playfield -->
      <section class="field" aria-label="SavaÅŸ AlanÄ±">
        <canvas id="field" class="canvas" width="480" height="270" role="img" aria-label="Kale savunmasÄ±"></canvas>
      </section>

      <!-- Answers -->
      <nav id="answers" class="answers" aria-label="Cevaplar">
        <button class="answer" data-idx="0">0</button>
        <button class="answer" data-idx="1">0</button>
        <button class="answer" data-idx="2">0</button>
        <button class="answer" data-idx="3">0</button>
      </nav>
    </main>

    <!-- Pause Overlay -->
    <section id="pause" class="overlay" role="dialog" aria-modal="true" aria-label="DuraklatÄ±ldÄ±" hidden>
      <div class="overlay__panel">
        <h2>DuraklatÄ±ldÄ±</h2>
        <div class="start-actions">
          <button id="btnResume" class="btn btn--primary">Devam</button>
          <a class="btn" href="../index.html">ğŸ  Ana Sayfa</a>
        </div>
      </div>
    </section>

    <!-- Game Over -->
    <section id="over" class="screen" role="dialog" aria-modal="true" aria-labelledby="overTitle" hidden>
      <div class="screen__panel">
        <h2 id="overTitle">Oyun Bitti</h2>
        <p id="finalScore">Skor: 0</p>
        <p id="finalWave">Dalga: 1</p>
        <p id="bestLine">En Ä°yi: 0</p>
        <div class="start-actions">
          <button id="btnReplay" class="btn btn--primary">Tekrar Oyna</button>
          <a class="btn" href="../index.html">ğŸ  Ana Sayfa</a>
        </div>
      </div>
    </section>

  </div>

  <script src="game.js" defer></script>
</body>
</html>
